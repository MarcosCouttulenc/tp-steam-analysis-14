name: tp-steam-analysis
services:
  server:
    container_name: server
    image: server:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_GAME_VALIDATORS=5
      - CANT_REVIEW_VALIDATORS=5
      - PORT_HEALTHCHECKER=12001
      - IP_HEALTHCHECKER=health_checker_1
    networks:
      - testing_net
    depends_on:
      - rabbitmq

  health_checker_1:
    container_name: health_checker_1
    image: healthchecker:latest
    privileged: true
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CONNECT_IP=health_checker_2
      - CONNECT_PORT=12002
      - LISTEN_PORT=12001
    networks:
      - testing_net
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock

  health_checker_2:
    container_name: health_checker_2
    image: healthchecker:latest
    privileged: true
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CONNECT_IP=health_checker_3
      - CONNECT_PORT=12003
      - LISTEN_PORT=12002
    networks:
      - testing_net
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock

  health_checker_3:
    container_name: health_checker_3
    image: healthchecker:latest
    privileged: true
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CONNECT_IP=health_checker_1
      - CONNECT_PORT=12001
      - LISTEN_PORT=12003
    networks:
      - testing_net
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock

  result_responser:
    container_name: result_responser
    image: result_responser:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - server
      - health_checker_2

  client_1:
    container_name: client_1
    image: client:latest
    environment:
      - CLI_ID={i}
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - GAMES_FILE_PATH=fullgames.csv
      - REVIEWS_FILE_PATH=data0.1porcent.csv
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    volumes:
      - ./client/config.ini:/client/config.ini
    networks:
      - testing_net
    depends_on:
      - result_responser
      - health_checker_3

  rabbitmq:
    image: rabbitmq:3-management
    container_name: rabbitmq
    ports:
      - "5672:5672"
      - "15672:15672"
    networks:
      - testing_net
    environment:
      - RABBITMQ_DEFAULT_USER=admin
      - RABBITMQ_DEFAULT_PASS=admin
      - RABBITMQ_LOG_LEVEL=warning
      - RABBITMQ_HEARTBEAT=120
    volumes:
      - ./middleware/rabbitmq.conf:/etc/rabbitmq/rabbitmq.conf

  worker_windows_1:
    container_name: worker_windows_1
    image: worker_windows:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=1
      - IS_MASTER=True
      - PORT_MASTER=9001
      - IP_MASTER=worker_windows_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_1

  worker_windows_2:
    container_name: worker_windows_2
    image: worker_windows:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=1
      - IS_MASTER=False
      - PORT_MASTER=9001
      - IP_MASTER=worker_windows_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_windows_1
      - health_checker_2

  worker_windows_3:
    container_name: worker_windows_3
    image: worker_windows:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=1
      - IS_MASTER=False
      - PORT_MASTER=9001
      - IP_MASTER=worker_windows_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_windows_1
      - health_checker_3

  worker_windows_4:
    container_name: worker_windows_4
    image: worker_windows:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=1
      - IS_MASTER=False
      - PORT_MASTER=9001
      - IP_MASTER=worker_windows_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - worker_windows_1
      - health_checker_1

  worker_windows_5:
    container_name: worker_windows_5
    image: worker_windows:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=1
      - IS_MASTER=False
      - PORT_MASTER=9001
      - IP_MASTER=worker_windows_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_windows_1
      - health_checker_2

  worker_linux_1:
    container_name: worker_linux_1
    image: worker_linux:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=1
      - IS_MASTER=True
      - PORT_MASTER=9002
      - IP_MASTER=worker_linux_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_3

  worker_linux_2:
    container_name: worker_linux_2
    image: worker_linux:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=1
      - IS_MASTER=False
      - PORT_MASTER=9002
      - IP_MASTER=worker_linux_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - worker_linux_1
      - health_checker_1

  worker_linux_3:
    container_name: worker_linux_3
    image: worker_linux:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=1
      - IS_MASTER=False
      - PORT_MASTER=9002
      - IP_MASTER=worker_linux_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_linux_1
      - health_checker_2

  worker_linux_4:
    container_name: worker_linux_4
    image: worker_linux:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=1
      - IS_MASTER=False
      - PORT_MASTER=9002
      - IP_MASTER=worker_linux_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_linux_1
      - health_checker_3

  worker_linux_5:
    container_name: worker_linux_5
    image: worker_linux:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=1
      - IS_MASTER=False
      - PORT_MASTER=9002
      - IP_MASTER=worker_linux_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - worker_linux_1
      - health_checker_1

  worker_mac_1:
    container_name: worker_mac_1
    image: worker_mac:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=1
      - IS_MASTER=True
      - PORT_MASTER=9003
      - IP_MASTER=worker_mac_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_2

  worker_mac_2:
    container_name: worker_mac_2
    image: worker_mac:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=1
      - IS_MASTER=False
      - PORT_MASTER=9003
      - IP_MASTER=worker_mac_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_mac_1
      - health_checker_3

  worker_mac_3:
    container_name: worker_mac_3
    image: worker_mac:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=1
      - IS_MASTER=False
      - PORT_MASTER=9003
      - IP_MASTER=worker_mac_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - worker_mac_1
      - health_checker_1

  worker_mac_4:
    container_name: worker_mac_4
    image: worker_mac:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=1
      - IS_MASTER=False
      - PORT_MASTER=9003
      - IP_MASTER=worker_mac_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_mac_1
      - health_checker_2

  worker_mac_5:
    container_name: worker_mac_5
    image: worker_mac:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=1
      - IS_MASTER=False
      - PORT_MASTER=9003
      - IP_MASTER=worker_mac_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_mac_1
      - health_checker_3

  worker_indie_1:
    container_name: worker_indie_1
    image: worker_indie:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=True
      - PORT_MASTER=9004
      - IP_MASTER=worker_indie_1
      - CANT_SLAVES=3
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_1

  worker_indie_2:
    container_name: worker_indie_2
    image: worker_indie:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9004
      - IP_MASTER=worker_indie_1
      - CANT_SLAVES=3
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_indie_1
      - health_checker_2

  worker_indie_3:
    container_name: worker_indie_3
    image: worker_indie:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9004
      - IP_MASTER=worker_indie_1
      - CANT_SLAVES=3
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_indie_1
      - health_checker_3

  worker_2010_1:
    container_name: worker_2010_1
    image: worker_2010:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=6
      - IS_MASTER=True
      - PORT_MASTER=9005
      - IP_MASTER=worker_2010_1
      - CANT_SLAVES=3
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_1

  worker_2010_2:
    container_name: worker_2010_2
    image: worker_2010:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=6
      - IS_MASTER=False
      - PORT_MASTER=9005
      - IP_MASTER=worker_2010_1
      - CANT_SLAVES=3
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_2010_1
      - health_checker_2

  worker_2010_3:
    container_name: worker_2010_3
    image: worker_2010:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=6
      - IS_MASTER=False
      - PORT_MASTER=9005
      - IP_MASTER=worker_2010_1
      - CANT_SLAVES=3
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_2010_1
      - health_checker_3

  worker_review_indie_1:
    container_name: worker_review_indie_1
    image: worker_review_indie:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=True
      - PORT_MASTER=9006
      - IP_MASTER=worker_review_indie_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_1

  worker_review_indie_2:
    container_name: worker_review_indie_2
    image: worker_review_indie:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9006
      - IP_MASTER=worker_review_indie_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_review_indie_1
      - health_checker_2

  worker_review_indie_3:
    container_name: worker_review_indie_3
    image: worker_review_indie:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9006
      - IP_MASTER=worker_review_indie_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_review_indie_1
      - health_checker_3

  worker_review_indie_4:
    container_name: worker_review_indie_4
    image: worker_review_indie:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9006
      - IP_MASTER=worker_review_indie_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - worker_review_indie_1
      - health_checker_1

  worker_review_indie_5:
    container_name: worker_review_indie_5
    image: worker_review_indie:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9006
      - IP_MASTER=worker_review_indie_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_review_indie_1
      - health_checker_2

  worker_review_positive_1:
    container_name: worker_review_positive_1
    image: worker_review_positive:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=15
      - IS_MASTER=True
      - PORT_MASTER=9007
      - IP_MASTER=worker_review_positive_1
      - CANT_SLAVES=8
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_3

  worker_review_positive_2:
    container_name: worker_review_positive_2
    image: worker_review_positive:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=15
      - IS_MASTER=False
      - PORT_MASTER=9007
      - IP_MASTER=worker_review_positive_1
      - CANT_SLAVES=8
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - worker_review_positive_1
      - health_checker_1

  worker_review_positive_3:
    container_name: worker_review_positive_3
    image: worker_review_positive:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=15
      - IS_MASTER=False
      - PORT_MASTER=9007
      - IP_MASTER=worker_review_positive_1
      - CANT_SLAVES=8
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_review_positive_1
      - health_checker_2

  worker_review_positive_4:
    container_name: worker_review_positive_4
    image: worker_review_positive:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=15
      - IS_MASTER=False
      - PORT_MASTER=9007
      - IP_MASTER=worker_review_positive_1
      - CANT_SLAVES=8
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_review_positive_1
      - health_checker_3

  worker_review_positive_5:
    container_name: worker_review_positive_5
    image: worker_review_positive:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=15
      - IS_MASTER=False
      - PORT_MASTER=9007
      - IP_MASTER=worker_review_positive_1
      - CANT_SLAVES=8
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - worker_review_positive_1
      - health_checker_1

  worker_review_positive_6:
    container_name: worker_review_positive_6
    image: worker_review_positive:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=15
      - IS_MASTER=False
      - PORT_MASTER=9007
      - IP_MASTER=worker_review_positive_1
      - CANT_SLAVES=8
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_review_positive_1
      - health_checker_2

  worker_review_positive_7:
    container_name: worker_review_positive_7
    image: worker_review_positive:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=15
      - IS_MASTER=False
      - PORT_MASTER=9007
      - IP_MASTER=worker_review_positive_1
      - CANT_SLAVES=8
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_review_positive_1
      - health_checker_3

  worker_review_positive_8:
    container_name: worker_review_positive_8
    image: worker_review_positive:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=15
      - IS_MASTER=False
      - PORT_MASTER=9007
      - IP_MASTER=worker_review_positive_1
      - CANT_SLAVES=8
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - worker_review_positive_1
      - health_checker_1

  worker_review_action_1:
    container_name: worker_review_action_1
    image: worker_review_action:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=8,3
      - IS_MASTER=True
      - PORT_MASTER=9008
      - IP_MASTER=worker_review_action_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_2

  worker_review_action_2:
    container_name: worker_review_action_2
    image: worker_review_action:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=8,3
      - IS_MASTER=False
      - PORT_MASTER=9008
      - IP_MASTER=worker_review_action_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_review_action_1
      - health_checker_3

  worker_review_action_3:
    container_name: worker_review_action_3
    image: worker_review_action:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=8,3
      - IS_MASTER=False
      - PORT_MASTER=9008
      - IP_MASTER=worker_review_action_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - worker_review_action_1
      - health_checker_1

  worker_review_action_4:
    container_name: worker_review_action_4
    image: worker_review_action:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=8,3
      - IS_MASTER=False
      - PORT_MASTER=9008
      - IP_MASTER=worker_review_action_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_review_action_1
      - health_checker_2

  worker_review_action_5:
    container_name: worker_review_action_5
    image: worker_review_action:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=8,3
      - IS_MASTER=False
      - PORT_MASTER=9008
      - IP_MASTER=worker_review_action_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_review_action_1
      - health_checker_3

  worker_review_english_1:
    container_name: worker_review_english_1
    image: worker_review_english:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=True
      - PORT_MASTER=9009
      - IP_MASTER=worker_review_english_1
      - CANT_SLAVES=15
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_1

  worker_review_english_2:
    container_name: worker_review_english_2
    image: worker_review_english:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9009
      - IP_MASTER=worker_review_english_1
      - CANT_SLAVES=15
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_review_english_1
      - health_checker_2

  worker_review_english_3:
    container_name: worker_review_english_3
    image: worker_review_english:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9009
      - IP_MASTER=worker_review_english_1
      - CANT_SLAVES=15
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_review_english_1
      - health_checker_3

  worker_review_english_4:
    container_name: worker_review_english_4
    image: worker_review_english:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9009
      - IP_MASTER=worker_review_english_1
      - CANT_SLAVES=15
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - worker_review_english_1
      - health_checker_1

  worker_review_english_5:
    container_name: worker_review_english_5
    image: worker_review_english:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9009
      - IP_MASTER=worker_review_english_1
      - CANT_SLAVES=15
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_review_english_1
      - health_checker_2

  worker_review_english_6:
    container_name: worker_review_english_6
    image: worker_review_english:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9009
      - IP_MASTER=worker_review_english_1
      - CANT_SLAVES=15
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_review_english_1
      - health_checker_3

  worker_review_english_7:
    container_name: worker_review_english_7
    image: worker_review_english:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9009
      - IP_MASTER=worker_review_english_1
      - CANT_SLAVES=15
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - worker_review_english_1
      - health_checker_1

  worker_review_english_8:
    container_name: worker_review_english_8
    image: worker_review_english:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9009
      - IP_MASTER=worker_review_english_1
      - CANT_SLAVES=15
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_review_english_1
      - health_checker_2

  worker_review_english_9:
    container_name: worker_review_english_9
    image: worker_review_english:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9009
      - IP_MASTER=worker_review_english_1
      - CANT_SLAVES=15
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_review_english_1
      - health_checker_3

  worker_review_english_10:
    container_name: worker_review_english_10
    image: worker_review_english:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9009
      - IP_MASTER=worker_review_english_1
      - CANT_SLAVES=15
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - worker_review_english_1
      - health_checker_1

  worker_review_english_11:
    container_name: worker_review_english_11
    image: worker_review_english:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9009
      - IP_MASTER=worker_review_english_1
      - CANT_SLAVES=15
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_review_english_1
      - health_checker_2

  worker_review_english_12:
    container_name: worker_review_english_12
    image: worker_review_english:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9009
      - IP_MASTER=worker_review_english_1
      - CANT_SLAVES=15
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_review_english_1
      - health_checker_3

  worker_review_english_13:
    container_name: worker_review_english_13
    image: worker_review_english:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9009
      - IP_MASTER=worker_review_english_1
      - CANT_SLAVES=15
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - worker_review_english_1
      - health_checker_1

  worker_review_english_14:
    container_name: worker_review_english_14
    image: worker_review_english:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9009
      - IP_MASTER=worker_review_english_1
      - CANT_SLAVES=15
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_review_english_1
      - health_checker_2

  worker_review_english_15:
    container_name: worker_review_english_15
    image: worker_review_english:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=3
      - IS_MASTER=False
      - PORT_MASTER=9009
      - IP_MASTER=worker_review_english_1
      - CANT_SLAVES=15
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_review_english_1
      - health_checker_3

  query1_reducer_1:
    container_name: query1_reducer_1
    image: query1_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=True
      - PORT_MASTER=9010
      - IP_MASTER=query1_reducer_1
      - CANT_SLAVES=1
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_1

  query2_reducer_1:
    container_name: query2_reducer_1
    image: query2_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=True
      - PORT_MASTER=9011
      - IP_MASTER=query2_reducer_1
      - CANT_SLAVES=6
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_2

  query2_reducer_2:
    container_name: query2_reducer_2
    image: query2_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=False
      - PORT_MASTER=9011
      - IP_MASTER=query2_reducer_1
      - CANT_SLAVES=6
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - query2_reducer_1
      - health_checker_3

  query2_reducer_3:
    container_name: query2_reducer_3
    image: query2_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=False
      - PORT_MASTER=9011
      - IP_MASTER=query2_reducer_1
      - CANT_SLAVES=6
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - query2_reducer_1
      - health_checker_1

  query2_reducer_4:
    container_name: query2_reducer_4
    image: query2_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=False
      - PORT_MASTER=9011
      - IP_MASTER=query2_reducer_1
      - CANT_SLAVES=6
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - query2_reducer_1
      - health_checker_2

  query2_reducer_5:
    container_name: query2_reducer_5
    image: query2_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=False
      - PORT_MASTER=9011
      - IP_MASTER=query2_reducer_1
      - CANT_SLAVES=6
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - query2_reducer_1
      - health_checker_3

  query2_reducer_6:
    container_name: query2_reducer_6
    image: query2_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=False
      - PORT_MASTER=9011
      - IP_MASTER=query2_reducer_1
      - CANT_SLAVES=6
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - query2_reducer_1
      - health_checker_1

  query3_reducer_1:
    container_name: query3_reducer_1
    image: query3_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=True
      - PORT_MASTER=9012
      - IP_MASTER=query3_reducer_1
      - CANT_SLAVES=3
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_2

  query3_reducer_2:
    container_name: query3_reducer_2
    image: query3_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=False
      - PORT_MASTER=9012
      - IP_MASTER=query3_reducer_1
      - CANT_SLAVES=3
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - query3_reducer_1
      - health_checker_3

  query3_reducer_3:
    container_name: query3_reducer_3
    image: query3_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=False
      - PORT_MASTER=9012
      - IP_MASTER=query3_reducer_1
      - CANT_SLAVES=3
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - query3_reducer_1
      - health_checker_1

  query4_reducer_1:
    container_name: query4_reducer_1
    image: query4_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=True
      - PORT_MASTER=9013
      - IP_MASTER=query4_reducer_1
      - CANT_SLAVES=3
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_2

  query4_reducer_2:
    container_name: query4_reducer_2
    image: query4_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=False
      - PORT_MASTER=9013
      - IP_MASTER=query4_reducer_1
      - CANT_SLAVES=3
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - query4_reducer_1
      - health_checker_3

  query4_reducer_3:
    container_name: query4_reducer_3
    image: query4_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=False
      - PORT_MASTER=9013
      - IP_MASTER=query4_reducer_1
      - CANT_SLAVES=3
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - query4_reducer_1
      - health_checker_1

  query5_reducer_1:
    container_name: query5_reducer_1
    image: query5_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=True
      - PORT_MASTER=9014
      - IP_MASTER=query5_reducer_1
      - CANT_SLAVES=3
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_2

  query5_reducer_2:
    container_name: query5_reducer_2
    image: query5_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=False
      - PORT_MASTER=9014
      - IP_MASTER=query5_reducer_1
      - CANT_SLAVES=3
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - query5_reducer_1
      - health_checker_3

  query5_reducer_3:
    container_name: query5_reducer_3
    image: query5_reducer:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IS_MASTER=False
      - PORT_MASTER=9014
      - IP_MASTER=query5_reducer_1
      - CANT_SLAVES=3
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - query5_reducer_1
      - health_checker_1

  query1_file:
    container_name: query1_file
    image: query1_file:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_2

  query2_file:
    container_name: query2_file
    image: query2_file:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_3

  query3_file:
    container_name: query3_file
    image: query3_file:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_1

  query4_file:
    container_name: query4_file
    image: query4_file:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_2

  query5_file:
    container_name: query5_file
    image: query5_file:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_3

  database:
    container_name: database
    image: database:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_CLIENTS=1
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - rabbitmq
      - health_checker_1

  worker_game_validator_1:
    container_name: worker_game_validator_1
    image: worker_game_validator:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=5,5,5,3,1
      - IS_MASTER=True
      - PORT_MASTER=9015
      - IP_MASTER=worker_game_validator_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - database
      - health_checker_2

  worker_game_validator_2:
    container_name: worker_game_validator_2
    image: worker_game_validator:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=5,5,5,3,1
      - IS_MASTER=False
      - PORT_MASTER=9015
      - IP_MASTER=worker_game_validator_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_game_validator_1
      - health_checker_3

  worker_game_validator_3:
    container_name: worker_game_validator_3
    image: worker_game_validator:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=5,5,5,3,1
      - IS_MASTER=False
      - PORT_MASTER=9015
      - IP_MASTER=worker_game_validator_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - worker_game_validator_1
      - health_checker_1

  worker_game_validator_4:
    container_name: worker_game_validator_4
    image: worker_game_validator:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=5,5,5,3,1
      - IS_MASTER=False
      - PORT_MASTER=9015
      - IP_MASTER=worker_game_validator_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_game_validator_1
      - health_checker_2

  worker_game_validator_5:
    container_name: worker_game_validator_5
    image: worker_game_validator:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=5,5,5,3,1
      - IS_MASTER=False
      - PORT_MASTER=9015
      - IP_MASTER=worker_game_validator_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_game_validator_1
      - health_checker_3

  worker_review_validator_1:
    container_name: worker_review_validator_1
    image: worker_review_validator:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=5,5
      - IS_MASTER=True
      - PORT_MASTER=9016
      - IP_MASTER=worker_review_validator_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - database
      - health_checker_1

  worker_review_validator_2:
    container_name: worker_review_validator_2
    image: worker_review_validator:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=5,5
      - IS_MASTER=False
      - PORT_MASTER=9016
      - IP_MASTER=worker_review_validator_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_review_validator_1
      - health_checker_2

  worker_review_validator_3:
    container_name: worker_review_validator_3
    image: worker_review_validator:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=5,5
      - IS_MASTER=False
      - PORT_MASTER=9016
      - IP_MASTER=worker_review_validator_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_3
      - PORT_HEALTHCHECKER=12003
    networks:
      - testing_net
    depends_on:
      - worker_review_validator_1
      - health_checker_3

  worker_review_validator_4:
    container_name: worker_review_validator_4
    image: worker_review_validator:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=5,5
      - IS_MASTER=False
      - PORT_MASTER=9016
      - IP_MASTER=worker_review_validator_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_1
      - PORT_HEALTHCHECKER=12001
    networks:
      - testing_net
    depends_on:
      - worker_review_validator_1
      - health_checker_1

  worker_review_validator_5:
    container_name: worker_review_validator_5
    image: worker_review_validator:latest
    environment:
      - PYTHONUNBUFFERED=1
      - LOGGING_LEVEL=DEBUG
      - CANT_NEXT=5,5
      - IS_MASTER=False
      - PORT_MASTER=9016
      - IP_MASTER=worker_review_validator_1
      - CANT_SLAVES=5
      - IP_HEALTHCHECKER=health_checker_2
      - PORT_HEALTHCHECKER=12002
    networks:
      - testing_net
    depends_on:
      - worker_review_validator_1
      - health_checker_2

networks:
  testing_net:
    ipam:
      driver: default
      config:
        - subnet: 172.25.125.0/24

